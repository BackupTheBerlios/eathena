--------------
//0740 by ぽぽぽ
・PCがMOBにタゲられたとき3匹目から防御と回避が減るようにした。
　1匹につき回避は10%、防御は5%減ります。
	(map/)
	pc.h
	pc.c
		pc_counttargeted()、pc_counttargeted_sub()追加
	battle.c
		battle_get_flee()、battle_get_def()、battle_get_def2()修正。

--------------
//0739 by 聖
・ファイアーウォール等の設置系スキルが正しく表示されない問題を修正。
・マリンスフィアが自爆するとサンダーストーム等のダメージが表示されなくなる問題を修正。
・HP吸収系スキルで敵が回復してるエフェクトが出るよう修正。
	(map/)
	skill.c
		skill_castend_damage_id() 修正。
	battle.c
		battle_calc_misc_attack() 修正。
	clif.c
		clif_getareachar_skillunit() 修正。
		clif_skill_setunit() 修正。

--------------
//0738 by ぴざまん
・ストームガストを完全に本鯖仕様に修正(3回で絶対凍結＆凍結状態の敵はSGをくらわない)
・サフラギウムが自分にかけられるバグ修正
	(map/)
	skill.c
		skill_additional_effect()、skill_attack()修正
		skill_castend_nodamage_id()修正
	map.h 修正

--------------
//0737 by ぽぽぽ
・アンクルが歩いている敵に効かない&複数の敵に効くのを修正。
	(map/)
	skill.c
		skill_unit_onplace()、skill_unit_onout()修正
	mob.c
		mob_stop_walking()修正

--------------
//0736 by ぴざまん
・状態異常耐性が効果時間にも及ぶ様に修正。発動率と同率で効果時間が割り引かれます
・ストーンカースの効果時間を永久からマジスレテンプレ準拠に
・攻撃を受けた時にペットの支援攻撃を受けられないよう修正(コメントアウトしただけ)
　これはVIT型にペットを付けて放置するだけで自動でレベル上げができるのを
　防ぐための暫定的な処置です
	(map/)
	skill.c
		skill_castend_nodamage_id()、skill_addisional_effect()修正
		skill_status_change_start()修正
	pc.c
		pc_damage() 修正

--------------
//0735 by ぽぽぽ

・敵を倒してレベルが上がったときPT公平範囲のチェックをするようにした。
・オートカウンター仮実装。
　向きや射程チェックはしていません。またタイミングがおかしいかもしれません。
　MOBスキルとして使うときはターゲットをselfにしてください。
	(conf/)
	battle_athena.conf項目追加
	(doc/)
	conf_ref修正
	(map/)
	battle.h
	battle.c
		battle_calc_mob_weapon_attack()、battle_calc_pc_weapon_attack()
		battle_config_read()修正
	pc.c
		pc_checkbaselevelup()、pc_attack_timer()修正
	skill.c
		skill_castend_nodamage_id()、skill_status_change_start()修正
	clif.c
		clif_parse_WalkToXY()修正
	mob.c
		mob_attack()修正

--------------
//0734 by 死神

・player_skillup_limitの処理修正と細かい修正。
・player_skillup_limitがyesの場合skill_tree.txtで設定されてるその下位職業の
スキルツリーを使いますのでその職業では無くなるはずのスキルが出ることが
ありますがこれは仕様でありバグではありません。バグ報告されても無視します。
	(doc/)
	conf_ref.txt 修正。
	(char/)
	char.c
		mmo_char_sync_timer()、do_init() 修正。
	inter.c
		inter_init() 修正。
		inter_save_timer() 削除。
	(map/)
	pc.c
		pc_calc_skilltree() 修正。
		pc_resetskill() 修正。

--------------
//0733 by 死神

・バグ修正と細かい修正。
・死んだ後にすぐにセーブポイントに戻らずにしばらく放置してると、
放置してる時間によって経験値が減少するバグ修正。(未テスト)
・mob_availe.txtで設定したモンスターにモンスター情報を使うち鞍落ちする問題修正。
・battle_athena.confに項目追加。
・その他細かい修正。
	(conf/)
	battle_athena.conf 修正。
	(doc/)
	conf_ref.txt 修正。
	(map/)
	clif.c
		clif_skill_estimation()、clif_parse_Restart() 修正。
	pc.c
		pc_setrestartvalue()、pc_makesavestatus() 修正。
		pc_read_gm_account()、pc_calc_skilltree() 修正。
		pc_calc_skillpoint() 追加。
	map.c
		map_quit() 修正。
	mob.c
		mob_damage() 修正。
	skill.c
		skill_unit_timer_sub()、skill_unit_timer() 修正。
	battle.h 修正。
	battle.c
		battle_config_read() 修正。

--------------
//0732 by Kalen

・npc_town_kafra.txtの全面見直し
	カプラ利用券の廃止
	倉庫利用料を本鯖(jRO)と同一価格に調整
	カート使用料を本鯖(jRO)と同一価格に調整
	ポイント参照変更
	ジュノーのセーブポイント修正
	アマツのセーブポイント修正

--------------
//0731 by ぽぽぽ

・服の色を保存するかbattle_athena.confで選択できるように。
　弊害があるので保存しないようにと書いてあったのでデフォルトでは保存しません。
・スクリプト追加
　strcharinfo(1)	自分のパーティー名を取得します。
　strcharinfo(2)	自分のギルド名を取得します。
　getcharid(1)		自分のパーティーIDを取得します。
　getcharid(2)		自分のギルドIDを取得します。
　getpartyname(ID)	IDで指定したパーティーの名前を取得します。
　getguildname(ID)	IDで指定したギルドの名前を取得します。
	(map/)
	battle.h
	battle.c
		battle_config_read()修正
	pc.c
		pc_makesavestatus()修正
	script.c
		buildin_strcharinfo()修正
		buildin_getcharid()、buildin_getpartyname()、buildin_getpartyname_sub()
		buildin_getguildname()、buildin_getguildname_sub()追加

--------------
//0730 by ぴざまん

・ストームガストの凍結時間を本鯖にあわせて修正(スキルレベルに関係なく一定の凍結時間(10秒)になります)
・スタン、暗闇、沈黙、毒の状態異常時間の「継ぎ足し」ができないように修正
・状態異常が掛かりにくすぎてたのでMOBの状態異常耐性を緩和(また調整するかも)
	(map/)
	skill.c
		skill_castend_nodamage_id()、skill_addisional_effect()修正
		skill_status_change_start()修正

--------------
//0729 by DRG

・カートレボリューションがカートなしで使えた不具合の修正
・カートレボリューションがJOBLV30で覚えれたのを修正
	(conf/)
	npc_event_skillget.txt
		カートレボリューション項修正
	(map/)
	skill.c
		skill_check_condition()修正

--------------
//0728 by ぽぽぽ

・職が変わってもギルドの職業欄が更新されない不具合の修正。

	(char/)
	inter.c
		パケット長リスト修正。
	int_guild.c
		mapif_guild_memberinfoshort()、mapif_parse_GuildChangeMemberInfoShort()、
		inter_guild_parse_frommap()修正
	(map/)
	intif.h
	intif.c
		intif_guild_memberinfoshort()、intif_parse_GuildMemberInfoShort()
		intif_parse()修正
	guild.h
		guild_send_memberinfoshort()、guild_recv_memberinfoshort()修正
	

--------------
//0727 by 聖

・武器研究スキルによってホルグレンなどの精錬NPCが
　正常に動作しない問題を修正。

	(map/)
	pc.c
		pc_percentrefinery() 修正。

--------------
//0726 by 胡蝶蘭

・mob_skill_db2.txtがあればmob_skill_db.txtをオーバーライドするように修正
	オリジナルのMOB使用時や、現行MOBの使用スキルを変更したい場合に。

・mob_skill_db.txtでmob_idの次のダミー文字列が"clear"だった場合、
  そのMOBのスキルを初期化する機能追加。
  	・mob_skill_db2.txtであるMOBのスキルを完全に書き換えるときに使用して
	  ください。
	・clearしなかった場合はmob_skill_db.txtのものに追加されます。
  
	mob.c
		mob_readskilldb()修正


・アイテム名/MOB名が全角12文字（24バイト）あるアイテム/MOBが、
  @コマンドで取り寄せ/召喚できない問題修正。
  	mob.c
		mobdb_searchname()修正
	itemdb.c
		itemdb_searchname_sub()修正

・現在時刻でイベントを起こす「時計イベント」機能を追加
	・OnInitと同じようにそれぞれのNPCで、On〜で始まるラベルを定義します。
		OnMinute??	：毎時、??分にイベントを起こします。(0-59)
		OnHour??	：毎日、??時にイベントを起こします。(0-23)
		OnClock????	：毎日、??時??分にイベントを起こします。
		OnDate????	：毎年、??月??日にイベントを起こします。
	・詳しくは npc_test_ev.txt を参照
	
	(conf/)
	npc_test_ev.txt
		内容追加
	(map/)
	npc.c
		色々修正

・その他
	clif.c
		コンパイル警告が出ないように修正

--------------
//0725 by 死神

・鯖落ちバグ修正。
・モンスターにイベントが設定されていて自殺やなにかでダメージを与えた
物がない場合鯖落ち確定なのでそのマップにあるプレイヤーを利用して
イベントスクリプトを実行するように変更。
	(map/)
	makefile 修正。
	mob.c
		mob_timer()、mob_damage() 修正。

--------------
//0724 by 死神

・バグ修正と安定化の為の修正。
・ペットの攻撃でイベントが処理されず鯖落ちになる問題修正。(未テスト)
・モンスターの大量発生で鯖が落ちる問題修正。(モンスターを10000匹を呼んで
魔法で倒すことを5回程テスト。ただ動かないやつのみ。)
・取り巻きがボスと一緒に死ぬ時アイテムを落とさないように変更。(未テスト)
・battle_athena.confのpc_skillfleeをplayer_skillfreeに変更して処理を変更。
・アイスウォールにskill_unit_settingを使うスキルで攻撃できないように修正。
・その他細かい修正少し。安定化されたかどうかはまだわかりませんがXP1800+、512M、モンスター配置50%で10000匹召喚して異常なかったので大丈夫になったと思います。大丈夫じゃなくても責任はとれませんが...
	(conf/)
	battle_athena.conf 修正。
	(doc/)
	conf_ref.txt 修正。
	(map/)
	mob.h 修正。
	mob.c
		mob_timer()、mob_deleteslave_sub()、mob_damage() 修正。
	npc.c
		npc_event() 修正。
	skill.c
		skill_area_sub()、skill_unit_onplace()、skill_castend_nodamage_id() 修正。
	clif.c
		clif_parse_GMKick() 修正。
	battle.h
	battle.c
		battle_damage()、battle_check_target()、battle_config_read() 修正。
	pc.c
		pc_calc_skilltree()、pc_checkskill() 修正。
	map.h 修正。
	map.c
		map_foreachinarea()、map_foreachinmovearea() 修正。
		map_foreachobject() 修正。

--------------
//0723 by DRG

・0719の修正
	(map/)
	pc.c		pc_calc_skilltree()修正

--------------
//0722 by パイン

・gcc 2.29系列でもコンパイルが通るように修正。
　これは以前にも直したはずなのですが、なぜか元に戻っていましたので
　皆さん注意をお願いします。
　あと、gcc3系列なら定数はどこに書いても問題ないのですが、
　gcc2.29系列では「必ずブロック要素の一番最初」に書かないとコンパイルが
　通りませんのでこちらもご注意願います。

コンパイルが通る例
void hoge() {
    const char booboo = 1;
    …

コンパイルが通らない例
void hoge() {
    …
    const char booboo = 1;
    …

	(map/)
	skill.h		マクロを修正
	skill.c		skill_addisional_effect()修正

--------------
//0721 by 聖

・ボスにレックスデビーナが効いた問題を修正。
・ボスにカードによる状態異常が効かなかった問題を修正。
　本鯖ではマリナカード等でオークヒーローなどを殴ると時々凍結します。
　(結構微妙な実装方法なので、何か問題があった場合
　 その辺詳しい方おりましたら修正してやってください(^^; ))

--------------
//0720 by 胡蝶蘭

・PCにIWを重ねるとMOBが攻撃してこない問題を修正
	・IWに重なっていても、隣接可能ならMOBが近寄ってきます
	・どんな地形にいても、隣接しているなら攻撃可能になります
	・ただし、MOBが遠距離攻撃可能で、攻撃範囲内にPCがいても、
	  隣接不可能なら攻撃してきません。これの解決はかなり面倒なので。

	mob.c
		mob_can_reach()修正
	battle.c
		battle_check_range()修正

--------------
//0719 by DRG

・下位スキルがない場合は上位スキルがふれないようにしました。
　battle_athena.confのskillfleeで設定可能です。
　下位スキルがないまま上位スキルをふった状態で、このオプションを使う場合はスキルリセットする必要があります。
　一般アカにスキルリセットを解放したいときに使ってやって下さい。
	(conf/)
	battle_athena.conf
	(map/)
	battle.c
	battle.h
	pc.c		pc_calc_skilltree(),pc_checkskill()修正

--------------
//0718 by 死神

・色々と修正。
・毒によって防御が減るように変更。(HPはまだ減りません。)
・アイスウォールに攻撃できるように変更。(今は全ての攻撃に当たります。)
ただ鞍のバグらしくアイスウォールをクリックすると鞍から0x89パケットが30回以上連続で送ってくることが起こりますが原因は不明です。多分鞍のバグだと思いますが...)
・戦闘に関わる計算等を修正。
・ゼニが増えるバグ修正。(多分これでこのバグはなくなると思いますがどうなのか報告をお願いします。)
・二刀流の左手武器の種族、属性、Sizeのダメージ補正を右手武器に適用するかどうかを設定できるように変更。
・その他修正はしたはずですが覚えてません。(修正してない物もありますがdiff当ての途中でどれを作業したのかを忘れたので...)
	(common/)
	mmo.h 修正。
	(conf/)
	battle_athena.conf 修正。
	(doc/)
	conf_ref.txt 修正。
	(map/)
	battle.h 修正。
	battle.c
		battle_get_baseatk()、battle_get_speed()、battle_get_adelay() 追加。
		battle_get_amotion() 、battle_calc_pet_weapon_attack() 修正。
		battle_calc_mob_weapon_attack()、battle_calc_pc_weapon_attack() 修正。
		battle_get_atk()、battle_get_atk_()、battle_get_atk2() 修正。
		battle_get_attack_element()、battle_get_attack_element2() 修正。
		battle_get_str()、battle_get_agi()、battle_get_vit()、battle_get_int() 修正。
		battle_get_dex()、battle_get_luk()、battle_get_flee() 修正。
		battle_get_flee2()、battle_get_hit()、battle_get_critical() 修正。
		battle_get_def()、battle_get_def2()、battle_get_mdef() 修正。
		battle_get_element()、battle_check_target()、battle_check_range() 修正。
		battle_weapon_attack()、battle_config_read() 修正。
	clif.c
		clif_skill_estimation()、clif_mob0078()、clif_mob007b() 修正。
	pc.c
		pc_attack_timer()、pc_attack()、pc_calcstatus()、pc_payzeny() 修正。
		pc_getzeny() 修正。
	npc.c
		npc_buylist()、npc_selllist() 修正。
	pet.c
		pet_attack()、pet_randomwalk()、pet_ai_sub_hard() 修正。
	mob.h 修正。
	mob.c
		calc_next_walk_step()、mob_attack()、mobskill_castend_id() 修正。
		mobskill_use_id()、mobskill_use_pos()、mob_ai_sub_hard() 修正。
		mob_damage()、mob_changestate() 修正。
		mob_get_adelay()、mob_get_speed() 削除。
	skill.h 修正。
	skill.c
		skill_unitsetting()、skill_unit_ondamaged()、skill_unit_timer_sub() 修正。
		skill_unit_timer()、skill_area_sub()、skill_unit_onplace() 修正。
		skill_status_change_start() 修正。
	chat.c 修正。
	makefile 修正。
	chrif.c 修正。
	guild.c 修正。
	itemdb.c 修正。
	map.c 修正。
	party.c 修正。
	script.c 修正。
	path.c 修正。

--------------
//0717 by 聖

・大量にモンスターを召還して一度に倒すとmap-serverが落ちる問題を修正。
　(カホを100体ずつ召還して50回テストをしたので恐らく大丈夫だと思います。)
・その他結構細かい修正
	(common/)
	mmo.h
	(map/)
	chat.c
	chrif.c
	clif.c
	guild.c
	itemdb.c
	map.c
	mob.c
	npc.c
	party.c
	path.c
	pc.c
	pet.c
	script.c
	skill.c
	skill.h

--------------
//0716 by 聖

・精錬成功率に対してBSの武器研究が正しく適用されていなかった問題を修正。
	(map/)
	pc.c
		pc_percentrefinery() 修正。

--------------
//0715 by 死神

・マップサーバーから表示される物を表示するかどうかの設定ができるようにしました。スキル表示だけでもなくしてやるとサーバーがかなり楽になったりもします。
開発やバグトレースの時は表示することをお勧めします。
・その他細かい修正。
・修正した所を全て書けないのでファイルだけ。
	(doc/)
	conf_ref.txt
	(conf/)
	battle_athena.conf
	(map/)
	makefile
	skill.c
	script.c
	pet.c
	pc.c
	path.c
	party.c
	npc.c
	itemdb.c
	intif.c
	guild.c
	chat.c
	battle.h
	battle.c
	chrif.c
	atcommand.c
	clif.c
	mob.c
	map.c

--------------
//0714 by 死神

・細かい修正。
・シールドブーメランで盾の重量と精錬によってダメージが増えるように修正。精錬ダメージを足す時適用でダメージ+重量+盾精錬*4(この4はrefine_db.txtの防具の過剰精錬ボーナスを使ってるので変更可能です。)になります。
・スキルによる吹き飛ばし処理で0x88パケットを使っていましたがそのパケットの優先順位がかなり低いらしく後で来るパケットによって無視されることもあるようなのでプレイヤーだけに適用してモンスターには0x78を使うように変更しました。
でも位置ずれは完全になくならないようです。(恐らく鞍のバグだと思います。鯖の
座標を確認してみましたが鯖の方は問題がありませんでした。)
プレイヤーの場合0x78(PACKETVERが4以上なら0x1d8)が使えません。分身を作ってしまうので...
・バグ報告スレッド2 の47を取り込みました。
・その他修正した所少しあり。
	(db/)
	refine_db.txt 修正。
	item_db.txt 修正。
	(map/)
	battle.c
		battle_stopattack()、battle_stopwalking() 修正。
		battle_get_attack_element2()、battle_calc_pc_weapon_attack() 修正。
		battle_weapon_attack() 修正。
	path.c
		path_blownpos() 修正。
	pc.h 修正。
	pc.c
		pc_stop_walking()、pc_damage() 修正。
		pc_getrefinebonus() 追加。
	mob.c
		mob_damage() 修正。
	pet.c
		pet_target_check()、pet_stop_walking()、pet_performance() 修正。
	skill.c
		skill_attack()、skill_blown()、skill_status_change_start() 修正。
		skill_castend_damage_id() 修正。
	makefile 修正。

--------------
//0713 by ぽぽぽ

・mob_avail.txt追加。item_avail.txtと同様の指定でモンスターの見た目を他のIDのものに変更します。
　モンスターのID以外を指定したりするとPCやNPCの姿をしたMOBに一方的に攻撃される場合があるので注意。
	(db/)
	mob_avail.txt 追加。
	(map/)
	clif.c
		clif_mob0078()、clif_mob007b() 修正。
	mob.h 修正。
	mob.c
		mob_readdb_mobavail()、mob_get_viewclass()追加。
		do_init_mob()、mob_readdb() 修正。

--------------
//0712 by 死神

・シールドチャージ、シールドブーメラン実装。
・オートガードはとりあえずエフェクトが出るように変更しました。
・0708で書き忘れ。ディフェンダーを使った時ASPDと移動速度は20%低下します。
本鯖で低下するのは確かのようですがどれぐらい下がるのかはさっぱりわかりまんので...
・その他細かい修正。
	(db/)
	cast_db.txt 修正。
	skill_db.txt 修正。
	(map/)
	battle.h 修正。
	battle.c
		battle_calc_damage()、battle_calc_pet_weapon_attack() 修正。
		battle_calc_mob_weapon_attack()、battle_calc_pc_weapon_attack() 修正。
		battle_calc_magic_attack()、battle_calc_misc_attack() 修正。
	skill.c
		skill_additional_effect()、skill_attack()、skill_castend_nodamage_id() 修正。
		skill_check_condition()、skill_status_change_start() 修正。
		skill_castend_damage_id() 修正。
	pc.h 修正。
	pc.c
		pc_calcstatus()、pc_checkallowskill()、pc_unequipitem() 修正。

--------------
//0711 by npc

・鉱石製造エフェクトの修正
・スクリプト埋め込み変数にHp,MaxHp,Sp,MaxSpを追加(読み込みのみ)
	(map/)
	skill.c
		skill_produce_mix()修正。
	pc.c
		pc_readparam()修正。
	(db/)
		const.txt 修正。

--------------
//0710 by 胡蝶蘭

・名前に半角スペースが入ったパーティーを作成したとき、および、
  半角スペースが入った名前のPCをパーティメンバにしたとき、
  party.txtが正しく読み込めなくなる問題を修正

	(char/)
	int_party.c
		inter_party_fromstr()修正

・Message of the Day 機能追加
	・ログインしたユーザーにMOTDを表示させることが出来ます。
	・map-server.exe実行時のカレントディレクトリ（help.txtと同じ
	  ディレクトリ）にmotd.txtを作ると表示します。
	・MOTDが表示されるタイミングは、
	  「マップサーバーにログインした直後の、マップロード完了時」です。
	  つまり、ログイン直後、キャラセレ直後および、
	  マップサーバー間移動の時(マップサーバーの分散を行っている場合のみ)
	  のマップロードが終わった時に表示されます。
	・表示方法はhelp.txtと同じで普通のメッセージとして送信します。
	  （ギルド告知メッセージは文字数制限があり、GMアナウンスは長時間
	    画面の上部に表示されてしまうため）
	・会話と区別がつくように、"< Message of the Day >"、"< End of MOTD >"
	  の文で上下を囲います。
	
	(map/)
	pc.c
		pc_authok()修正


--------------
//0709 by ぽぽぽ

・スクリプトにemotion追加
　emotion n;と使うとNPCがエモを出します。nは0〜33が使用可能。
・精錬と街ガイドのNPCを本鯖の台詞に合わせて修正。
	(conf/)
	npc_town_refine.txt、npc_town_guide.txt 修正。
	(map/)
	script.c
		buildin_emotion() 追加。

--------------
//0708 by 死神

・スキルキャストキャンセル、ディフェンダー、オートガード実装。
・オートガードの場合ガードしてもエフェクトは出ません。ミスになるだけです。本鯖の方は表示されるかどうかもわからないしパケット情報もないので...
・ディフェンダーは未テスト。bLongAtkDefを使ってるのでホルンカードのようにbLongAtkDefを上げる物を装備して使うと遠距離物理攻撃を全て無効にできます。(これも本鯖の仕様がどうなのかはわかりません。)
・その他細かい修正。
	(db/)
	cast_db.txt 修正。
	(map/)
	map.h 修正。
	map.c
		map_quit() 修正。
	skill.h 修正。
	skill.c
		skill_castend_nodamage_id()、skill_use_id()、skill_check_condition() 修正。
		skill_castend_id()、skill_castend_nodamage_id()、skill_castcancel() 修正。
	pc.c
		pc_calcstatus()、pc_setpos()、pc_damage() 修正。
	battle.c
		battle_calc_damage()、battle_damage() 修正。
	clif.c
		clif_parse_UseSkillToId()、clif_parse_UseSkillToPos() 修正。
	mob.c
		mob_damage() 修正。
	itemdb.c
		itemdb_searchrandomid() 修正。

--------------
//0707 by 死神

・0705の阿修羅覇鳳拳のバグ修正。
	(db/)
	skill_db.txt
	(map/)
	skill.c
		skill_castend_id()
		skill_castend_pos()
	battle.c
		battle_calc_pc_weapon_attack()
	clif.c
		clif_parse_UseSkillToId()

--------------
//0706 by kalen
・修正
	conf/npc_warp_umbala.txt

--------------
//0705 by 死神

・色々と修正。
・プレイヤーのクリティカル計算にバグがあったので修正。
・爆裂波動の処理修正。
・モンクのコンボを修正。
・阿修羅覇鳳拳の使用によってマップ鯖の無限ループバグ修正。(これかなり致命的な物だったようです。)
・コンボで使う阿修羅覇鳳拳は敵をクリックする必要がないように修正。
・猛龍拳で敵を吹き飛ばす距離を5セルに変更。よってコンボで使う阿修羅覇鳳拳は距離チェックをしません。5セル飛ばされた敵は阿修羅覇鳳拳の射程から離れたわけなので距離チェックなしで発動します。(本鯖の仕様なんて知りません。)
・マップの名前を16byteから24bytesに変更。(大した意味はありませんが安全の為の物です。)
・ウェディングキャラによる鞍落ちを防ぐ為に修正。
・その他少し修正。(テストは殆んどしてません。)
	(conf/)
	battle_athena.conf 修正。
	(db/)
	skill_db.txt 修正。
	(common/)
	mmo.h 修正。
	(doc/)
	conf_ref.txt 修正。
	item_bonus.txt 修正。
	(map/)
	battle.h 修正。
	battle.c
		battle_get_flee2()、battle_calc_pet_weapon_attack() 修正。
		battle_calc_mob_weapon_attack()、battle_calc_pc_weapon_attack() 修正。
		battle_weapon_attack()、battle_calc_magic_attack() 修正。
		battle_config_read() 修正。
	skill.h 修正。
	skill.c
		skill_status_change_start()、skill_castend_damage_id() 修正。
		skill_check_condition()、skill_use_id()、skill_blown() 修正。
		skill_castend_map()、skill_unit_onlimit()、skill_attack() 修正。
	pc.c
		pc_attack_timer()、pc_setpos()、pc_setsavepoint() 修正。
		pc_movepos()、pc_calcstatus()、pc_bonus() 修正。
	clif.h 修正。
	clif.c
		clif_set0078()、clif_set007b() 修正。
		clif_updatestatus()、clif_initialstatus()、clif_parse_UseSkillToId() 修正。
		clif_skillinfo() 追加。
	map.h 修正。
	map.c
		map_setipport()、map_addmap() 修正。
	その他抜けた所少しあり。

--------------------
//0704 by kalen

・Umbala Warp追加
	conf/npc_warp_umbala.txt

--------------------
//0703 by いど

・サーバーsnapshot

--------------------

//0702以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. このリリースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責事項
8. 募集
9. English


1. アテナについて
    アテナとは2003年1月半ばにでた0052.lzhをベースとして作られているエミュレータの一つです。
    基本的なライセンスはオリジナルがGPLの下に配布されている為、
    これに従いGPLの下配布を許可します。
    /*
        改良版を配布する場合は必ずこのREADMEを書き換えてください。
        何処を改良したのか報告(athena@project-yare.deまで)して貰えると助かります。
        バイナリのみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く事を保証するものでありません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. このリリースについて
    今回のリリースは前回(V2.1)同様開発版のリリースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォルト設定が韓国data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く推奨するものではありませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に応じて
    account.txt   //存在しない場合athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類あります
    conf/npc*.txt //npc設定用ファイルです。複数のファイルに分けることが可能です。
    db/*.txt      //アイテム、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の部分を環境に合わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイルで行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスクリプトの書き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スクリプトを弄りたい方は参考にしてください。
    ただし、開発中のためスクリプトの仕様が変更される可能性が高いです。
    command.txtには実装済みの特殊コマンドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポリンがアイテムを拾わないなど)点は、
    全て現在開発中に因るものです。
    現状としてキャラクタ系及びモンスター系のバグ報告は無視される可能性が高いです。

    バグ報告について必ず発生条件をお書き下さい。
    下にある報告用テンプレートを使って報告して頂くと助かります。
    報告先はエミュ板の開発スレにでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行時に表示される内容
    【動作システム】FreeBSD, Linux(ディストリビュージョンも), cygwinなど
    【発生内容】mapが落ちてしまった時の表示されていたデバッグ情報など具体的に書いてください。
    【操作内容】具体的にどんな操作を行ったかを書いてください。
    ------------------ END -------------------
    理想はテンプレに加えてmap.coreなどcoreファイルをUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に注意してください。
    /*
        確認した限りでは324個ほどmapデータを読み込ませると、
         40MB近いcoreファイルを吐き出します @FreeBSD
         cygwinの場合はstackdumpというファイルになるそうです。
        しかし、coreファイルなどをgzip圧縮などすれば大幅に小さくなります。
         大凡30MBのcoreファイルが2.9MBほどになるようです。
        ですので、もしアップロードする場合はgzip圧縮など各自行ってください。
     */

    今回のリリースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本当に結構ありますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに当たって感謝したい方々(順番不同)
        Lemming氏 (Project YARE)
        0052氏 (Uploader)
        35氏 (エミュ開発スレ)
        Johan Lindh氏(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研究会BBSの様々な情報ファイルを作成した方々
        最後に、.coreファイル達


7. 免責事項
    Athena Projectは一切Athenaの動作に関する保証等は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・操作等に関する質問などを送られても一切お答えできません。
    又Athenaを用いたことにより生じた被害・問題等の責任は一切Athena Projectは負いません。


8. 募集
    athenaの開発に参加したい//興味があるという方ご連絡下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要項: プログラマ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が理解可能
        内容: C言語もしくはC++による開発。(特にネットワークやDBの経験が有る方大募集!)
    [募集要項: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が理解可能
        内容: 仏蘭西語、独逸語、西班牙語、伊太利亜語、泰(タイ)語、朝鮮語、中国語へ文献、サイトなどの翻訳
    連絡先: athena@project-yare.de 雑務担当まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.
