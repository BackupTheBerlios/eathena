--------------
//0696 by 死神

・バグ修正。
・テレポートやワープ等の時スキルユニットから抜ける処理が入って
なかったのでSAFETYWALL等によって鯖落ちが起こったようです。(確か報告も
あったと思いますが...) よって修正はしましたが確認はしてません。報告を
お願いします。
・スキルによる吹き飛ばし処理をちょっと修正とモンスターのコードを少し修正。
多分変になったことはないと思いますが変だったら報告してください。
・その他細かい修正。
	(map/)
	skill.h 修正。
	skill.c
		skill_blown()、skill_attack()、skill_unit_move() 修正。
		skill_castend_nodamage_id()、skill_castend_damage_id() 修正。
		skill_unit_out_all()、skill_unit_out_all_sub() 追加。
	mob.c
		mob_stop_walking()、mob_spawn()、mob_warp() 修正。
		mob_can_move()、mob_changestate() 修正。
	map.h 修正。
	pc.c
		pc_setpos() 修正。
	battle.c
		battle_calc_pet_weapon_attack()、battle_calc_mob_weapon_attack() 修正。
		battle_calc_pc_weapon_attack() 修正。

--------------
//0695 by 死神

・少し修正。
・プレイヤーの基本パラメータを2byteに拡張。
・item_db.txtをラグナゲートの説明に合わせて修正。
・bAddEffとbResEffの確率を百分率から万分率に変更。
・スクリプトstatusupとstatusup2追加。
statusup bStr; のように使って機能はステータスポイントを減らして
基本パラメータを1上げる。
statusup2 bInt,n; のように使って機能はステータスポイントを減らさずに
基本パラメータをn上げる。
・その他細かい修正。
	(conf/)
	battle_athena.conf 修正。
	(db/)
	item_db.txt 修正。
	const.txt 修正。
	(doc/)
	item_bonus.txt 修正。
	conf_ref.txt 修正。
	(common/)
	mmo.h 修正。
	(char/)
	char.c
		mmo_char_send006b()、parse_char() 修正。
	(map/)
	map.h 修正。
	clif.h 修正。
	clif.c
		clif_initialstatus()、clif_updatestatus() 修正。
	pc.h 修正。
	pc.c
		pc_bonus()、pc_calcstatus()、pc_equippoint()、pc_equipitem() 修正。
		pc_jobchange()、pc_checkbaselevelup()、pc_statusup() 修正。
		pc_statusup2() 追加。
	battle.h 修正。
	battle.c
		battle_calc_pet_weapon_attack()、battle_calc_mob_weapon_attack() 修正。
		battle_calc_pc_weapon_attack()、battle_config_read() 修正。
	skill.c
		skill_additional_effect()、skill_status_change_start() 修正。
	script.c
		buildin_statusup()、buildin_statusup2() 追加。
	atcommnad.c 修正。

--------------
//0694 by 死神

・バグ修正と細かい修正。
・bCriticalRateが正しく適用されなかった問題修正。
・ペットによるステータスボーナス追加。ステータスボーナスは装備の
スクリプトによって設定します。ただペットによるボーナスはカードによる物と同じ扱いをします。そして属性の適用は一番優先順位低いです。今は何も入ってませんが...
	(conf/)
	battle_athena.conf 修正。
	(db/)
	const.txt 修正。
	pet_db.txt 修正。
	(doc/)
	item_bonus.txt 修正。
	conf_ref.txt 修正。
	db_ref.txt 修正。
	(map/)
	map.h 修正。
	map.c
		map_quit() 修正。
	battle.h 修正。
	battle.c
		battle_calc_pc_weapon_attack()、battle_weapon_attack() 修正。
		battle_calc_magic_attack()、battle_calc_misc_attack() 修正。
		battle_config_read() 修正。
	pc.c
		pc_calcstatus()、pc_bonus()、pc_setpos()、pc_authok() 修正。
		pc_damage()、pc_autosave_sub() 修正。
	pet.h 修正。
	pet.c
		pet_hungry()、pet_birth_process()、pet_recv_petdata()、pet_food() 修正。
		pet_return_egg()、pet_ai_sub_hard()、read_petdb() 修正。
	clif.c
		clif_sendegg()、clif_parse_LoadEndAck() 修正。
	atcommand.c 修正。
	makefile 修正。

--------------
//0693 by 胡蝶蘭

・SC_*の列挙表をリナンバリング
	クライアントに通知するのを64未満から128未満に増やした
	パケット情報に合うようにリナンバー
	StatusChangeの配列を128から192に増やしたのでメモリ使用量が増えます。
	
	(db/)
	const.txt
		SC_* の数値を変更
	(map/)
	skill.h
		SC_* の列挙の数値を変更
	map.h
		MAX_STATUSCHANGEを128から192に増やした
	skill.c
		skill_status_change_start(),skill_status_change_end(),
		skill_status_change_clear()の通知処理を変更

・演奏/ダンスの処理を変更
	演奏/ダンス中かどうかをSC_DANCINGで判定するように変更
	（判定処理が多少高速化されたはず）
	ワープ(マップ移動や蝿など)すると演奏/ダンスを中断するように変更
	
	skill.h/skill.c
		skill_check_dancing()削除、skill_stop_dancing()追加
		skill_delunitgroup(),skill_initunitgroup()変更
		skill_status_change_start()変更
		skill_castend_nodamage_id()変更
		書き損じがあるかも・・
	pc.c
		pc_calcstatus(),pc_setpos(),pc_damage()変更

・不協和音スキルの修正
	(db/)
	skill_db.txt
		不協和音スキルのHIT数修正
	(map/)
	skill.c
		skill_status_change_timer()変更
	battle.c
		battle_calc_misc_attack()修正

--------------
//0692 by 胡蝶蘭

・アドリブスキルが使用できない問題修正（skill_dbの添付し忘れ）
	(db/)
	skill_db.txt
		アドリブの消費SPを1に修正

・mob_db2.txtがあればmob_db.txtにオーバーライドするように
	オリジナルmobを作ってる人は使うと便利かもしれません。

	mob.c
		mob_readdb()

・鯖落ちバグ報告時のためのスタックバックトレースログ所得方法を紹介
	鯖落ちバグの報告時に、この情報をコピペすると開発者が喜びます。
	Cygwinでcoreの吐かせる方法も紹介してます。

	(doc/)
		coredump_report.txt

--------------
//0691 by 胡蝶蘭

・item_db2.txtがあればitem_db.txtにオーバーライドするように
	オリジナルアイテムを作ってる人は使うと便利かもしれません。

	itemdb.c
		itemdb_readdb()修正

・演奏/ダンス系スキル仮実装
	・演奏/ダンス中は移動が遅く、スキルも使えないようになりました
	・アドリブスキルで演奏/ダンスを中断できるようになりました
	・演奏/ダンスは石化などの異常、MHPの1/4以上のダメージで中断します
	・キャラクターグラフィックは演奏/ダンスしません
	・演奏/ダンス中のSP消費は未実装です
	・移動しても効果範囲はついてきません
	・重複しても不協和音などに変化しません
	・エフェクトが出ても効果は未実装のものがあります
	・ほとんど未テストなので多数の不都合があると思います

	skill.h
		SC_* の列挙表を修正
	skill.c
		skill_check_dancing()追加
		SkillStatusChangeTable[]修正
		skill_unit_onout(), skill_status_change_start(),
		skill_status_change_timer(),skill_unitsetting(),
		skill_castend_id(),skill_castend_pos(),skill_castend_map(),
		skill_castend_nodamage_id()修正
		その他は忘れました
	pc.c
		pc_calcstatus(),pc_damage()修正

--------------
//0690 by 波浪

・細かい修正
	(db/)
	item_db.txt 錐とメギンギョルドのbonusを修正。
	(doc/)
	item_bonus.txt 修正。

--------------
//0689 by 死神

・倉庫バグ修正と細かい修正。
	(map/)
	pc.c
		pc_modifybuyvalue()、pc_modifysellvalue() 修正。
	storage.c
		storage_storageopen() 修正。
		storage_storage_quit()、storage_storage_save() 修正。

--------------
//0688 by 聖

・ディスカウント、コムパルションディスカウント、オーバーチャージが適用されなかった問題を修正。
	(map/)
	pc.c
		pc_modifybuyvalue() 修正。
		pc_modifysellvalue() 修正。

--------------
//0687 by 死神

・少し修正。
・battle_athena.confに項目追加。(詳しいことはconf_ref.txtで)
・item_avail.txtの処理を変更。アイテムIDの後に0を入れると今まで通りに使用不可能になるが0以外の数値を入れると使用不可能ではなくその数値をアイテムのIDとして見た目だけをそれに変更します。よって鞍落ちアイテムを別の物に表示して鞍落ちを防ぐことができます。(表示だけ変えて鯖の処理は本当のアイテムIDの物として認識します。修正は全てしたと思いますが抜けた所があるかも知りませので見た目変更したアイテムで鞍落ちが起こったら報告してください。) 鯖の処理はこれが限界です。(少なくとも自分には) アイテムが同じ物が二つ表示されて間違い安いとかどうこうとかの文句を言いたい人は鞍作れよ。以上。
・ジルタスとアリスのコマントアウト解除。item_avail.txtで卵をルビーとアクアマリンで表示して捕獲アイテムも他の物に表示するように変更しています。
・ダメージ計算のバグ修正。(大した物じゃありませんが弓だけちょっと問題があったようです。)
・青箱等のアイテムで得た装備品は未鑑定になるように変更。
・装備ボーナスの内部処理修正と少し変更。(詳しいことはitem_bonus.txtで)
・キャラ鯖にテータを送る時キャラ、倉庫、ペットのテータを同時に送るように変更。(キャラ鯖とマップ鯖の間の転送量が増えるかも知りれませんがデータを同期化の為です。)
・FWの動作間隔を0.25秒から0.1秒に変更。(これで摺り抜は少し減るはずです。)
・カートレボリュションでどんな状態異常もかからないように変更。
	(conf/)
	battle_athena.conf 修正。
	(db/)
	const.txt 修正。
	item_avail.txt 修正。
	pet_db.txt 修正。
	(doc/)
	conf_ref.txt 修正。
	item_bonus.txt 修正。
	(map/)
	map.h 修正。
	map.c
		map_quit() 修正。
	battle.h 修正。
	battle.c
		battle_calc_pc_weapon_attack()、battle_calc_mob_weapon_attack() 修正。
		battle_calc_pet_weapon_attack()、battle_calc_magic_attack() 修正。
		battle_get_dmotion()、battle_config_read() 修正。
	pc.c
		pc_calcstatus()、pc_bonus()、pc_bonus3()、pc_setpos() 修正。
		pc_makesavestatus()、pc_autosave_sub()、pc_modifybuyvalue() 修正。
		pc_modifysellvalue()、pc_stop_walking() 修正。
	skill.c
		skill_additional_effect()、skill_unitsetting() 修正。
	clif.c
		clif_buylist()、clif_selllist()、clif_set009e()、clif_set0078() 修正。
		clif_set007b()、clif_additem()、clif_itemlist()、clif_equiplist() 修正。
		clif_storageitemlist()、clif_storageequiplist()、clif_changelook() 修正。
		clif_arrow_create_list()、clif_useitemack()、clif_tradeadditem() 修正。
		clif_storageitemadded()、clif_getareachar_item() 修正。
		clif_skill_produce_mix_list()、clif_cart_additem()、clif_cart_itemlist() 修正。
		clif_cart_equiplist()、clif_vendinglist()、clif_openvending() 修正。
		clif_produceeffect()、clif_sendegg()、clif_pet_equip()、clif_mvp_item() 修正。
		clif_pet0078()、clif_pet007b() 修正。
	itemdb.h 修正。
	itemdb.c
		itemdb_searchrandomid()、itemdb_search()、itemdb_readdb() 修正。
		itemdb_read_itemavail()、itemdb_read_itemvaluedb() 修正。
		itemdb_equippoint() 削除。
	storage.h 修正。
	storage.c
		storage_storage_quitsave() ->storage_storage_quit()に変更と修正。
		storage_storageclose() 修正。
	atcommand.c 修正。
	pet.c
		pet_change_name()、pet_equipitem()、pet_unequipitem() 修正。
		pet_birth_process()、pet_return_egg() 修正。
	script.c
		buildin_getitem() 修正。
	mob.c
		mob_stop_walking() 修正。
	makefile 修正。

--------------
//0686 by 聖

・細かい修正。
	(map/)
	pc.h 修正。

--------------
//0685 by 波浪

・0683、0684でのbonusの追加にともなってitem_db.txtを修正
・他色々修正
	(db/)
	item_db.txt 修正。
	(doc/)
	item_bonus.txt 修正。

--------------
//0684 by 死神

・細かい修正。
・死んだふりの時スキルとアイテムが使えないように変更。
・bInfiniteEndure追加。機能は無限インデュア。
・ダメージ表示の処理少し変更。
	(db/)
	const.txt 修正。
	(doc/)
	item_bonus.txt 修正。
	(map/)
	map.h 修正。
	pc.c
		pc_calcstatus() 修正。
		pc_equipitem()、pc_unequipitem() 修正。
	clif.c
		clif_parse_UseItem()、clif_parse_UseSkillToId() 修正。
		clif_parse_UseSkillToPos()、clif_parse_UseSkillMap() 修正。
		clif_damage()、clif_skill_damage()、clif_skill_damage2() 修正。
		clif_parse_LoadEndAck() 修正。
	skill.c
		skill_status_change_timer() 修正。

--------------
//0683 by 死神

・バグ修正とbonus追加。
・倉庫バグ、属性バグ修正とその他のバグ修正。
・スクリプトbonus3追加。今はbAddMonsterDropItemだけが対応になっています。
・bonus bRestartFullRecover;n;等でnは無意味だけど消すのはちょっとまずいですので0にして入れた方がいいです。bonusは2つの数値が必要なスクリプトなので。
・bDefRatioAtkを防御無視に変更。
・0677で書き忘れ。
・武器の属性適用優先順位を製造>カード>武器に変更。製造が最優先です。(属性がある時に話です。属性がない場合属性ある物に上書きされたりはしません。)
・装備で適用される効果の優先順位を右手>左手>体>頭上>頭中>頭下>ローブ>靴>アクセサリー1>アクセサリー2>矢に設定。(本鯖仕様がどうなのか分かることができそうな物でもないのでアテナの仕様と言うことで。) 右手が最優先です。
・武器の射程を右手と左手の武器の中で長い物を適用するように変更。
	(db/)
	const.txt 修正。
	(doc/)
	item_bonus.txt 修正。
	(map/)
	map.h 修正。
	battle.c
		battle_calc_pc_weapon_attack()、battle_calc_mob_weapon_attack() 修正。
		battle_calc_pet_weapon_attack()、battle_calc_magic_attack() 修正。
		battle_damage() 修正。
	pc.c
		pc_autosave_sub()、pc_calcstatus() 修正。
		pc_bonus()、pc_bonus2() 修正。
		pc_bonus3() 追加。
	script.c
		buildin_bonus3() 追加。
	mob.c
		mob_once_spawn()、mob_damage() 修正。
	storage.h 修正。
	storage.c
		storage_storage_save() 追加
	atcommand.c 修正。

--------------
//0682 by 聖

・スピードアップポーション系のバグ修正
	(map/)
	pc.c
		pc_calcstatus() 修正。

--------------
//0681 by 死神

・装備バグ修正。
	(map/)
	pc.c
		pc_equipitem() 修正。

--------------
//0680 by 聖

・細かい修正。
・「@monster」コマンドでモンスターIDの指定に「-1」、「-2」等を指定すると
　モンスターをランダムで召還できる機能を追加。
	(map/)
	mob.c
	atcommand.c

--------------
//0679 by 波浪

・0676で新しいアイテム効果が実装されたので、item_db.txtを修正(bonus bAddMonsterDropItem,n,x; は、種族判定ができないのでとりあえず保留しました。)
・他色々修正
	(db/)
	item_db.txt
	job_db1.txt
	(doc/)
	item_bonus.txt

--------------
//0678 by 聖

・召還関連の細かい修正。
	(map/)
	mob.c
		mob_once_spawn_area() 修正。

--------------
//0677 by 死神

・細かい修正。
・アイテム売買によって得られる経験値をカードによるスキルでは得られないように修正。
・毒に掛かると自然回復できないように修正。
・0676で書き忘れ。製造武器の場合製造によって与えた属性が武器の属性より優先して適用されるように変更。(製造武器が無属性の場合は適用されません。)
	(doc/)
	item_bonus.txt 誤字修正。
	(map/)
	npc.c
		npc_buylist()、npc_selllist() 修正。
	pc.c
		pc_calcstatus()、pc_natural_heal_sub() 修正。

--------------
//0676 by 死神

・色々と修正。
・battle_athena.confに項目追加。(詳しいことはconf_ref.txtで)
・みすとれ巣を参考してダメージ計算を少し修正。
・装備bonusに色々と追加。(詳しいことはitem_bonus.txtで)
・自動セーブする時(キャラ鯖にデータを送る時)倉庫のデータも送るように変更。
・0667で言い忘れ。カートを外してもアイテムが消えないように変更。(本鯖で消えるのが仕様だと思っていたけど修正されたみたいなので。)
・取引要請を受ける側は基本スキルをチェックしないように修正。(受ける側の基本スキルチェックは自分が入れた物ではないです。いつの間にか入っていたので削除しました。)
・防具の精錬ボーナスを端数無視に変更。(これが本鯖の仕様みたいなので)
・アンクルの処理少し変更。(かからないと言う報告がありましたので...)
・プレイヤーのステータス計算で問題ありそうな所修正。
・カードのIDで機能が決まっていたカードもスクリプトによって変えることができるように変更。(詳しいことはitem_bonus.txtで)
・aspd計算方法少し変更。
・矢にbCritical、bAtkEle、bHit、bAddEle、bAddRace、bAddSize、bAddEffを適用できるように変更。矢を使うスキルや弓による攻撃だけに矢のbCritical、bAtkEle、bHit、bAddEle、bAddRace、bAddSize、bAddEffが適用されるように修正。
・キリの実装に為に修正はしましたがキリが防御無視なのかどうかがわからなかったので防御無視はしないようになっています。
・テストした物はbAddMonsterDropItemとbGetZenyNumだけなので正常に動作するかどうかの報告が欲しい所です。(ついでにitem_dbの修正も...これで吸収系とオートスペル系以外は殆ど実装できるはずです。多分...)
・その他は覚えてないけど修正した所が少しあるかも...
	(conf/)
	battle_athena.conf 修正。
	(doc/)
	conf_ref.txt 修正。
	item_bonus.txt 修正。
	(db/)
	const.txt 修正。
	(char/)
	inter.c
		inter_init() 修正。
	int_storage.c
		mapif_parse_SaveStorage() 修正。
	(map/)
	trade.c
		trade_traderequest() 修正。
	pc.h 修正。
	pc.c
		pc_autosave_sub()、pc_calcstatus() 修正。
		pc_bonus()、pc_bonus2() 修正。
		pc_setrestartvalue()、pc_setequipindex() 修正。
		pc_check_equip_wcard()、pc_check_equip_dcard()、pc_check_equip_card() 削除
		その他修正。
	skill.h 修正。
	skill.c 修正。
		skill_castend_nodamage_id()、skill_unit_onplace() 修正。
		skill_check_condition()、skill_additional_effect() 修正。
		skill_attack()、skill_status_change_start() 修正。
	map.h 修正。
	battle.h 修正。
	battle.c
		battle_get_def()、battle_get_mdef2() 修正。
		battle_weapon_attack()、battle_damage() 修正。
		battle_calc_magic_attack()、battle_calc_pc_weapon_attack() 修正。
		battle_calc_mob_weapon_attack()、battle_calc_pet_weapon_attack() 修正。
		battle_calc_misc_attack()、battle_config_read() 修正。
	mob.c
		mob_damage() 修正。
	pet.c
		pet_target_check() 修正。
	clif.c
		clif_set0078()、clif_set007b()、clif_changelook() 修正。
	atcommand.c 修正。

--------------
//0675 by 波浪

・韓鯖で村正の効果が変更されたので報告を元にitem_db.txtを修正
・job_db1.txtを修正
	(db/)
	item_db.txt
	job_db1.txt

--------------
//0674 by npc

・ファーマシーの仮実装。
	(db/)
	produce_db.txt
	(map/)
	skill.c

--------------
//0673 by 南

・集中力向上に装備品の補正が入っていなかったのを修正。
　　　　　(map/)　　　
　　　　　 pc.c

--------------
//0672 by 南

・集中力向上に装備品の補正が入っていなかったのを修正。
　　　　　(map/)　　　
　　　　　 pc.c

--------------
//0672 by 聖

・モンスター系のバグ修正(すみません、まだ残ってました(^^; )
	(map/)
	mob.c

--------------
//0671 by 聖

・IDチェック範囲の修正他。
・@monsterで数を指定しなくても召還できるように修正。
	(map/)
	atcommand.c
	battle.c
	battle.h
	mob.c
	pet.c
	(conf/)
	battle_athena.conf
	(doc/)
	conf_ref.txt

--------------
//0670 by RR

・モンスタードロップ率を修正(本鯖準拠、DBでの設定+1/10000)。
・落下率０に設定したアイテムを落とすかどうかをbattle_athena.confで設定可能に。
	(map/)
	mob.c
		mob_damage() 修正。
	battle.c
	battle.h
	(conf/)
	battle_athena.conf

--------------
//0669 by 聖

・モンスタードロップの修正。
	(map/)
	mob.c
		mob_damage() 修正。

--------------
//0668 by 聖

・モンスターIDの範囲チェックを修正。
	(map/)
	mob.c
		mob_db、mob_once_spawn()、mob_once_spawn_area()、
		mob_summonslave()、mob_read_randommonster()、mob_readdb() 修正。

--------------
//0667 by 死神

・最大HP計算式をミストレ巣を参考して修正。(多分これで本鯖にあっていると思います。)
・防具の精錬ボーナスを0.7に変更。(今は端数を四捨五入していますが本鯖が端数無視なら修正しておきます。)
・@refineコマンドで装備場所IDに0を入れると装備している全ての装備を精錬するように変更。
・その他細かい修正。
	(db/)
	item_db.txt
		7140、7142を元に戻して0666の物はコマントアウトしました。
	job_db1.txt 修正。
	refine_db.txt 修正。
	(map/)
	mob.c
		mob_once_spawn() 修正。
	itemdb.c
		itemdb_read_randomitem() 修正。
	pet.c
		pet_food() 修正。
	pc.c
		pc_readdb()、do_init_pc()、pc_calcstatus()、pc_setoption() 修正。
		pc_calc_sigma() 追加。
		その他修正。
	map.h 修正。
	battle.c
		battle_calc_magic_attack()、battle_calc_misc_attack() 修正。
	atcommand.c 修正。

--------------
//0666 by 聖

・ランダムアイテムの細かい修正。
・battle_athena.confの項目追加。
・古木の枝で召還するモンスターの確率を設定出来るようにしました。
・モンスター召還アイテムを複数作る事が出来るようにしました。
・召還アイテムのサンプルとして
　生命の種子をポリン系召還、
　エンブリオをMVPボス系召還にしてみました。
　あまりいいサンプルを思いつかなかったので、
　何かいい案を思いついた人は書き換えてやってください(^^;
	(conf/)
	battle_athena.conf
	(doc/)
	conf_ref.txt
	(map/)
	mob.h
		mob_db 修正。
	mob.c
		mob_once_spawn()、mob_makedummymobdb()、mob_readdb() 修正。
		mob_readbranch() -> mob_read_randommonster()に変更。
	battle.h
		battle_config 修正。
	battle.c
		battle_config_read() 修正。
	itemdb.c
		itemdb_read_randomitem() 修正。
	(db/)
	item_db.txt
	item_bluebox.txt
	item_cardalbum.txt
	item_giftbox.txt
	item_scroll.txt
	item_violetbox.txt
	mob_branch.txt
	mob_poring.txt 追加。
	mob_boss.txt 追加。

--------------
//0665 by J

・怨霊武士の取り巻きがカブキ忍者になっていたのを酒天狗に修正。
・オットーにフェイクエンジェルが出すはずの取り巻きがついてたのを修正。
	(db/)
	mob_skill_db.txt

--------------
//0664 by 聖

・精錬失敗時他のプレーヤーにもエフェクトが表示されるように修正。
	(map/)
	script.c
		buildin_failedrefitem() 修正。

--------------
//0663 by lide

・ブランディッシュスピア修正
	(map/)
	battle.c
	skill.c

--------------
//0662 by 死神

・細かい修正とバグ修正。
・プロボックによってモンスターは乗算防御と減算防御が減るように修正してプレイヤーは減算防御だけ減るように修正。
・スクリプトgetgmlevel追加。機能はそのNPCと話しているプレイヤーのGMレベルを返します。
・0659の書き忘れですがペットのパフォマンスの種類が親密度によって増えるように変更しました。
	(map/)
	clif.c
	pc.c
	script.c

--------------
//0661 by 死神

・細かい修正。
・接続した時のペットのメッセージを親密度がきわめて親しいの時のみに出るように変更。
・0659で書き忘れですがペットの支援攻撃は親密度がきわめて親しいの時のみに発生します。(それと親密度によって支援攻撃確率が少し変化します。)
・ジルタスとアリスの卵のIDをitem_db.txtに合わせました。(自分が作ったpet_db.txtの方が自分勝手に設定していた物でしたので。て言うか未実装アイテムだから番号がわからなかっただけですが...)
・pet_db.txtのattack_rateが正しく適用されなかったバグ修正。
	(db/)
	pet_db.txt
	(map/)
	clif.c
		clif_parse_LoadEndAck() 修正。
	pc.c
		pc_attack_timer() 修正。

--------------------
//0660 by いど

・サーバーsnapshot

--------------------

//0659以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. このリリースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責事項
8. 募集
9. English


1. アテナについて
    アテナとは2003年1月半ばにでた0052.lzhをベースとして作られているエミュレータの一つです。
    基本的なライセンスはオリジナルがGPLの下に配布されている為、
    これに従いGPLの下配布を許可します。
    /*
        改良版を配布する場合は必ずこのREADMEを書き換えてください。
        何処を改良したのか報告(athena@project-yare.deまで)して貰えると助かります。
        バイナリのみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く事を保証するものでありません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. このリリースについて
    今回のリリースは前回(V2.1)同様開発版のリリースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォルト設定が韓国data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く推奨するものではありませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に応じて
    account.txt   //存在しない場合athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類あります
    conf/npc*.txt //npc設定用ファイルです。複数のファイルに分けることが可能です。
    db/*.txt      //アイテム、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の部分を環境に合わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイルで行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスクリプトの書き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スクリプトを弄りたい方は参考にしてください。
    ただし、開発中のためスクリプトの仕様が変更される可能性が高いです。
    command.txtには実装済みの特殊コマンドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポリンがアイテムを拾わないなど)点は、
    全て現在開発中に因るものです。
    現状としてキャラクタ系及びモンスター系のバグ報告は無視される可能性が高いです。

    バグ報告について必ず発生条件をお書き下さい。
    下にある報告用テンプレートを使って報告して頂くと助かります。
    報告先はエミュ板の開発スレにでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行時に表示される内容
    【動作システム】FreeBSD, Linux(ディストリビュージョンも), cygwinなど
    【発生内容】mapが落ちてしまった時の表示されていたデバッグ情報など具体的に書いてください。
    【操作内容】具体的にどんな操作を行ったかを書いてください。
    ------------------ END -------------------
    理想はテンプレに加えてmap.coreなどcoreファイルをUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に注意してください。
    /*
        確認した限りでは324個ほどmapデータを読み込ませると、
         40MB近いcoreファイルを吐き出します @FreeBSD
         cygwinの場合はstackdumpというファイルになるそうです。
        しかし、coreファイルなどをgzip圧縮などすれば大幅に小さくなります。
         大凡30MBのcoreファイルが2.9MBほどになるようです。
        ですので、もしアップロードする場合はgzip圧縮など各自行ってください。
     */

    今回のリリースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本当に結構ありますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに当たって感謝したい方々(順番不同)
        Lemming氏 (Project YARE)
        0052氏 (Uploader)
        35氏 (エミュ開発スレ)
        Johan Lindh氏(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研究会BBSの様々な情報ファイルを作成した方々
        最後に、.coreファイル達


7. 免責事項
    Athena Projectは一切Athenaの動作に関する保証等は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・操作等に関する質問などを送られても一切お答えできません。
    又Athenaを用いたことにより生じた被害・問題等の責任は一切Athena Projectは負いません。


8. 募集
    athenaの開発に参加したい//興味があるという方ご連絡下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要項: プログラマ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が理解可能
        内容: C言語もしくはC++による開発。(特にネットワークやDBの経験が有る方大募集!)
    [募集要項: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が理解可能
        内容: 仏蘭西語、独逸語、西班牙語、伊太利亜語、泰(タイ)語、朝鮮語、中国語へ文献、サイトなどの翻訳
    連絡先: athena@project-yare.de 雑務担当まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.
